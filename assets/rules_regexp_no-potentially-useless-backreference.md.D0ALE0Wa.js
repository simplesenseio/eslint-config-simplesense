import{_ as l,c as r,a1 as a,G as n,w as h,B as o,o as k,j as e,a as i}from"./chunks/framework.C4wD7aVO.js";const F=JSON.parse('{"title":"regexp/no-potentially-useless-backreference","description":"disallow backreferences that reference a group that might not be matched","frontmatter":{"pageClass":"rule-details","sidebarDepth":0,"title":"regexp/no-potentially-useless-backreference","description":"disallow backreferences that reference a group that might not be matched","since":"v0.9.0"},"headers":[],"relativePath":"rules/regexp/no-potentially-useless-backreference.md","filePath":"rules/regexp/no-potentially-useless-backreference.md"}'),p={name:"rules/regexp/no-potentially-useless-backreference.md"};function c(d,s,g,u,b,y){const t=o("eslint-code-block");return k(),r("div",null,[s[1]||(s[1]=a('<h1 id="regexp-no-potentially-useless-backreference" tabindex="-1">regexp/no-potentially-useless-backreference <a class="header-anchor" href="#regexp-no-potentially-useless-backreference" aria-label="Permalink to &quot;regexp/no-potentially-useless-backreference&quot;">‚Äã</a></h1><p>‚ö†Ô∏è This rule <em>warns</em> in the following configs: üü¢ <code>flat/recommended</code>, üîµ <code>recommended</code>.</p><blockquote><p>disallow backreferences that reference a group that might not be matched</p></blockquote><h2 id="rule-details" tabindex="-1">üìñ Rule Details <a class="header-anchor" href="#rule-details" aria-label="Permalink to &quot;:book: Rule Details&quot;">‚Äã</a></h2><p>If the referenced group of a backreference is not matched because some other path leads to the backreference, the backreference will trivially accept (e.g. <code>/(?:(a)|b)\\1/</code>). The same will happen if the captured text of the referenced group was reset before reaching the backreference.</p><p>This will not handle backreferences that always trivially accept. Use <a href="./no-useless-backreference">regexp/no-useless-backreference</a> for that.</p>',6)),n(t,null,{default:h(()=>s[0]||(s[0]=[e("div",{class:"language-js vp-adaptive-theme"},[e("button",{title:"Copy Code",class:"copy"}),e("span",{class:"lang"},"js"),e("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},'/* eslint regexp/no-potentially-useless-backreference: "error" */')]),i(`
`),e("span",{class:"line"}),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"/* ‚úì GOOD */")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"var"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," foo "),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),e("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /"),e("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"(a"),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"+"),e("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},")b"),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"\\1"),e("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"/"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"var"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," foo "),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),e("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /"),e("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"(a"),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"+"),e("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},")b"),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|\\1"),e("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"/"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";  "),e("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"// this will be done by regexp/no-useless-backreference")]),i(`
`),e("span",{class:"line"}),i(`
`),e("span",{class:"line"}),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"/* ‚úó BAD */")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"var"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," foo "),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),e("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /"),e("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"(?:(a)"),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),e("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"b)"),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"\\1"),e("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"/"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"var"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," foo "),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),e("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /"),e("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"(a)"),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"?"),e("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"b"),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"\\1"),e("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"/"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),i(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"var"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," foo "),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),e("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /"),e("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"((a)"),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),e("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"c)"),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"+"),e("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#DBEDFF"}},"b"),e("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"\\2"),e("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"/"),e("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")])])])],-1)])),_:1}),s[2]||(s[2]=a('<h3 id="possible-fixes" tabindex="-1">Possible fixes <a class="header-anchor" href="#possible-fixes" aria-label="Permalink to &quot;Possible fixes&quot;">‚Äã</a></h3><p><em>Note:</em> Since this rule finds potential programming errors, there are no automatic fixes and suggestions. Fixing reports will always involve manually changing the regex. However, it is important to note that this rule reports <em>potential</em> errors. If you are confident that a regex is correct, feel free to disable this rule for that regex.</p><p>One common pattern this rule reports is <code>/(a)?b\\1/</code>. This typically happens when searching for optionally quoted text. While it is possible to move the <code>?</code> inside the capturing group, it is often better to explicitly factor out the <code>b</code> path: <code>/(a)b\\1|b/</code>. Since quoted and unquoted text typically have slightly different syntax, this form encourages using the correct syntax for each case, resulting in more correct regexes.</p><p>Other patterns reported by this rule can typically also be fixed by factoring out the capturing group + backreference.</p><h2 id="options" tabindex="-1">üîß Options <a class="header-anchor" href="#options" aria-label="Permalink to &quot;:wrench: Options&quot;">‚Äã</a></h2><p>Nothing.</p><h2 id="related-rules" tabindex="-1">üë´ Related rules <a class="header-anchor" href="#related-rules" aria-label="Permalink to &quot;:couple: Related rules&quot;">‚Äã</a></h2><ul><li><a href="./no-useless-backreference">regexp/no-useless-backreference</a></li></ul><h2 id="compatibility" tabindex="-1">‚ù§Ô∏è Compatibility <a class="header-anchor" href="#compatibility" aria-label="Permalink to &quot;:heart: Compatibility&quot;">‚Äã</a></h2><p>This rule was taken from <a href="https://github.com/RunDevelopment/eslint-plugin-clean-regex" target="_blank" rel="noreferrer">eslint-plugin-clean-regex</a>.<br> This rule is compatible with <a href="https://github.com/RunDevelopment/eslint-plugin-clean-regex/blob/master/docs/rules/no-potentially-empty-backreference.md" target="_blank" rel="noreferrer">clean-regex/no-potentially-empty-backreference</a> rule.</p><h2 id="version" tabindex="-1">üöÄ Version <a class="header-anchor" href="#version" aria-label="Permalink to &quot;:rocket: Version&quot;">‚Äã</a></h2><p>This rule was introduced in eslint-plugin-regexp v0.9.0</p><h2 id="implementation" tabindex="-1">üîç Implementation <a class="header-anchor" href="#implementation" aria-label="Permalink to &quot;:mag: Implementation&quot;">‚Äã</a></h2><ul><li><a href="https://github.com/ota-meshi/eslint-plugin-regexp/blob/master/lib/rules/no-potentially-useless-backreference.ts" target="_blank" rel="noreferrer">Rule source</a></li><li><a href="https://github.com/ota-meshi/eslint-plugin-regexp/blob/master/tests/lib/rules/no-potentially-useless-backreference.ts" target="_blank" rel="noreferrer">Test source</a></li></ul>',14))])}const m=l(p,[["render",c]]);export{F as __pageData,m as default};
